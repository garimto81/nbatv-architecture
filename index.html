<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WSOP TV Architecture Deck</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        /* Layout & scroll */
        body {
            margin: 0;
            padding: 0;
            background-color: #0a0a0a;
            color: #f8f9fa;
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            height: 100vh;
            scroll-behavior: smooth;
        }

        /* --- Navigation Bar --- */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 60px;
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid #333;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }

        .nav-btn {
            background: transparent;
            border: 1px solid transparent;
            color: #888;
            padding: 8px 16px;
            font-size: 0.9rem;
            font-weight: 700;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 4px;
            text-decoration: none;
        }

        .nav-btn:hover {
            color: #fff;
            background: rgba(255,255,255,0.1);
        }

        /* Active/Highlight colors */
        .nav-btn.nba:hover { color: #ED1C24; border-color: #ED1C24; }
        .nav-btn.vimeo:hover { color: #1AB7EA; border-color: #1AB7EA; }
        .nav-btn.bright:hover { color: #FF6600; border-color: #FF6600; }
        .nav-btn.wecandeo:hover { color: #00A0E9; border-color: #00A0E9; }

        .page {
            height: 100vh;
            width: 100%;
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 70px 10px 10px 10px;
            box-sizing: border-box;
            border-bottom: 1px solid #333;
            position: relative;
            overflow: hidden;
        }

        h1 {
            position: relative;
            z-index: 2;
            font-size: 2.4rem;
            margin: 0 0 5px 0;
            text-transform: uppercase;
            letter-spacing: 4px;
            text-align: center;
            text-shadow: 0 0 8px rgba(0,0,0,0.7);
        }

        p {
            position: relative;
            z-index: 2;
            color: #f8f9fa;
            margin-bottom: 10px;
            font-size: 1.1rem;
            text-align: center;
            text-shadow: 0 0 6px rgba(0,0,0,0.6);
        }

        .diagram-container {
            width: 98%;
            height: 85%;
            background-color: #141414;
            border: 1px solid #333;
            border-radius: 15px;
            padding: 0;
            box-shadow: 0 20px 50px rgba(0,0,0,0.6);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .mermaid {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .mermaid svg {
            max-height: 95%;
            max-width: 95%;
            width: auto;
            height: auto;
        }

        /* --- 텍스트 시인성 강제 (CSS Override) --- */
        /* 1. 기본 텍스트: 흰색 + 진한 그림자 */
        g.node text, g.edgeLabel text, g.cluster text, .mermaid text {
            font-family: 'Segoe UI', sans-serif !important;
            font-weight: 800 !important;
            fill: #ffffff !important;
            text-shadow: 2px 2px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000 !important;
        }

        /* 2. 검정색 텍스트 예외 처리 (밝은 배경 노드용) */
        /* 인라인 스타일로 지정된 클래스에 맞춰 CSS 오버라이드 */
        g.node.client text, g.node.client tspan,
        g.node.vimeo text, g.node.vimeo tspan,
        g.node.brightcove text, g.node.brightcove tspan,
        g.node.wecandeo text, g.node.wecandeo tspan {
            fill: #000000 !important;
            text-shadow: none !important;
        }

        /* 3. 연결선 라벨 배경 */
        .edgeLabel rect {
            fill: #000000 !important;
            opacity: 0.7 !important;
        }

        /* 4. 그룹 제목 */
        g.cluster text {
            fill: #FFD700 !important; /* Gold */
            font-size: 20px !important;
            text-transform: uppercase;
        }

    </style>
</head>
<body>

    <!-- NAVIGATION BAR -->
    <nav class="navbar">
        <button onclick="scrollToSection('nba')" class="nav-btn nba">1. NBA TV</button>
        <button onclick="scrollToSection('vimeo')" class="nav-btn vimeo">2. VIMEO</button>
        <button onclick="scrollToSection('brightcove')" class="nav-btn bright">3. BRIGHTCOVE</button>
        <button onclick="scrollToSection('wecandeo')" class="nav-btn wecandeo">4. WECANDEO</button>
    </nav>

    <!-- PAGE 1: NBA TV MODEL -->
    <section id="nba" class="page">
        <h1 style="color: #ED1C24;">1. NBA TV Architecture</h1>
        <p>Custom Azure Ecosystem: High Flexibility & Data Integration</p>
        
        <div class="diagram-container">
            <div class="mermaid">
                graph TD
                    %% [수정됨] 인라인 스타일 정의 (렌더링 오류 원천 차단)
                    classDef azure fill:#0078D4,stroke:#fff,stroke-width:2px,color:#fff
                    classDef vendor fill:#222,stroke:#ED1C24,stroke-width:2px,stroke-dasharray: 5 5,color:#fff
                    classDef client fill:#dce1e6,stroke:#000,stroke-width:3px,color:#000
                    classDef source fill:#444,stroke:#fff,stroke-width:1px,color:#fff

                    subgraph N_Input [1. ACQUISITION]
                        direction TB
                        N_Cam[Hawk-Eye<br/>Optical Tracking]:::vendor
                        N_Data[Sportradar<br/>Official Data]:::vendor
                        N_Feed[Broadcast<br/>Video Feed]:::source
                    end

                    subgraph N_MAM [2. INGEST and MANAGEMENT]
                        direction TB
                        N_Dalet[Dalet Flex<br/>Media Asset Mgmt]:::vendor
                        N_LiveIngest[Azure Media<br/>Live Ingest]:::azure
                    end

                    subgraph N_Proc [3. INTELLIGENCE]
                        direction TB
                        N_WSC[WSC Sports<br/>Auto Highlights]:::vendor
                        N_SecSpec[Second Spectrum<br/>Analytics Engine]:::vendor
                        N_GenAI[Azure OpenAI<br/>GenAI]:::azure
                    end

                    subgraph N_Back [4. BACKEND]
                        direction TB
                        N_DB[Cosmos DB<br/>Real-time Stats]:::azure
                        N_Auth[Azure AD B2C<br/>NBA ID]:::azure
                        N_Logic[Azure Kubernetes<br/>Biz Logic]:::azure
                    end

                    subgraph N_Dist [5. DELIVERY]
                        direction TB
                        N_Shield[Origin Shield<br/>Mid tier Cache]:::vendor
                        
                        subgraph MultiCDN [Multi CDN Strategy - Direct Contracts]
                            N_Traffic[Traffic Director<br/>Routing Logic]:::vendor
                            N_Akamai[Akamai<br/>Global Edge]:::vendor
                            N_Fastly[Fastly<br/>Global Edge]:::vendor
                        end
                    end

                    subgraph N_App [6. EXPERIENCE]
                        direction TB
                        N_Client[React Native App<br/>Custom UI]:::client
                        N_Personal[Azure Personalizer<br/>AI Recs]:::azure
                    end

                    N_Cam --> N_SecSpec
                    N_Data --> N_DB
                    N_Feed --> N_LiveIngest
                    N_Feed --> N_Dalet
                    
                    N_Dalet --> N_WSC
                    N_WSC --> N_Dalet
                    N_Dalet --> N_LiveIngest
                    
                    N_SecSpec --> N_DB
                    N_GenAI --> N_LiveIngest

                    N_DB --> N_Logic
                    N_Logic --> N_Client
                    N_Auth --> N_Client
                    
                    %% CDN Flow
                    N_LiveIngest --> N_Shield
                    N_Shield --> N_Akamai
                    N_Shield --> N_Fastly
                    
                    N_Traffic -.->|Route Logic| N_Akamai
                    N_Traffic -.->|Route Logic| N_Fastly
                    
                    N_Akamai --> N_Client
                    N_Fastly --> N_Client
                    
                    N_Personal --> N_Client
            </div>
        </div>
    </section>

    <!-- PAGE 2: VIMEO MODEL -->
    <section id="vimeo" class="page">
        <h1 style="color: #1AB7EA;">2. Vimeo Architecture</h1>
        <p>SaaS Turnkey Model: Fast Setup & Template Based</p>

        <div class="diagram-container">
            <div class="mermaid">
                graph TD
                    %% [수정됨] 인라인 스타일 정의
                    classDef vimeo fill:#1AB7EA,stroke:#fff,stroke-width:2px,color:#000
                    classDef client fill:#dce1e6,stroke:#1AB7EA,stroke-width:3px,color:#000
                    classDef source fill:#444,stroke:#fff,stroke-width:1px,color:#fff

                    subgraph V_Input [1. ACQUISITION]
                        direction TB
                        V_Feed[RTMP Stream<br/>Encoder Output]:::source
                        V_File[Video Files<br/>Manual Upload]:::source
                    end

                    subgraph V_MAM [2. INGEST and MAM]
                        direction TB
                        V_Ingest[Vimeo Ingest<br/>Upload Handler]:::vimeo
                        V_CMS[Vimeo CMS<br/>Basic Metadata]:::vimeo
                    end

                    subgraph V_Proc [3. PROCESSING]
                        direction TB
                        V_Trans[Auto Transcode<br/>ABR Ladder]:::vimeo
                        V_NoAI[No AI Engine<br/>Manual Only]:::source
                    end

                    subgraph V_Back [4. BACKEND]
                        direction TB
                        V_Paywall[Monetization<br/>Sub and Ads]:::vimeo
                        V_Auth[Vimeo Auth<br/>User Mgmt]:::vimeo
                        V_API[Vimeo API<br/>Limited]:::vimeo
                    end

                    subgraph V_Dist [5. DELIVERY]
                        direction TB
                        V_CDN[Vimeo CDN<br/>Bundled Managed]:::vimeo
                    end

                    subgraph V_App [6. EXPERIENCE]
                        direction TB
                        V_Client[Branded Apps<br/>Template UI]:::client
                        V_NoRec[Standard Feed<br/>No Personalization]:::vimeo
                    end

                    V_Feed --> V_Ingest
                    V_File --> V_Ingest
                    
                    V_Ingest --> V_Trans
                    V_Trans --> V_CMS
                    
                    V_CMS --> V_Paywall
                    V_Paywall --> V_API
                    
                    V_Trans --> V_CDN
                    
                    V_API --> V_Client
                    V_Auth --> V_Client
                    V_CDN --> V_Client
            </div>
        </div>
    </section>

    <!-- PAGE 3: BRIGHTCOVE MODEL -->
    <section id="brightcove" class="page">
        <h1 style="color: #FF6600;">3. Brightcove Architecture</h1>
        <p>Enterprise Video Platform (EVP): Robust SaaS & Monetization</p>

        <div class="diagram-container">
            <div class="mermaid">
                graph TD
                    %% [수정됨] 인라인 스타일 정의
                    classDef brightcove fill:#FF6600,stroke:#fff,stroke-width:2px,color:#000
                    classDef client fill:#dce1e6,stroke:#FF6600,stroke-width:3px,color:#000
                    classDef source fill:#444,stroke:#fff,stroke-width:1px,color:#fff

                    subgraph B_Input [1. ACQUISITION]
                        direction TB
                        B_Live[Live Module<br/>Cloud Ingest]:::source
                        B_API[Dynamic Ingest<br/>High-Speed API]:::source
                    end

                    subgraph B_MAM [2. INGEST and MAM]
                        direction TB
                        B_Zencoder[Zencoder<br/>Cloud Transcoding]:::brightcove
                        B_VideoCloud[Video Cloud CMS<br/>Advanced Metadata]:::brightcove
                    end

                    subgraph B_Proc [3. PROCESSING and ADs]
                        direction TB
                        B_Context[Context Awareness<br/>Auto Tagging]:::brightcove
                        B_SSAI[Brightcove SSAI<br/>Server Side Ad Insert]:::brightcove
                    end

                    subgraph B_Back [4. BACKEND]
                        direction TB
                        B_Beacon[Beacon CMS<br/>OTT Management]:::brightcove
                        B_Analytics[Data Insight<br/>Real-time Analytics]:::brightcove
                        B_Integrate[MAP Integrations<br/>Marketing Tools]:::brightcove
                    end

                    subgraph B_Dist [5. DELIVERY]
                        direction TB
                        B_CDN[Brightcove CDN<br/>Enterprise Multi-CDN]:::brightcove
                    end

                    subgraph B_App [6. EXPERIENCE]
                        direction TB
                        B_Client[Beacon Apps<br/>Configurable OTT UI]:::client
                        B_Player[Brightcove Player<br/>HTML5 Enterprise]:::client
                    end

                    B_Live --> B_Zencoder
                    B_API --> B_Zencoder
                    
                    B_Zencoder --> B_VideoCloud
                    B_VideoCloud --> B_Context
                    
                    B_Context --> B_Beacon
                    B_VideoCloud --> B_SSAI
                    
                    B_Beacon --> B_SSAI
                    B_SSAI --> B_CDN
                    
                    B_CDN --> B_Player
                    B_CDN --> B_Client
                    
                    B_Player -.-> B_Analytics
                    B_Client -.-> B_Analytics
                    B_Analytics --> B_Integrate
            </div>
        </div>
    </section>

    <!-- PAGE 4: WECANDEO MODEL -->
    <section id="wecandeo" class="page">
        <h1 style="color: #00A0E9;">4. WECANDEO Architecture</h1>
        <p>Integrated OVP: Video Pack & Live Pack Managed Service</p>

        <div class="diagram-container">
            <div class="mermaid">
                graph TD
                    %% [수정됨] 인라인 스타일 정의
                    classDef wecandeo fill:#00A0E9,stroke:#fff,stroke-width:2px,color:#000
                    classDef client fill:#dce1e6,stroke:#00A0E9,stroke-width:3px,color:#000
                    classDef source fill:#444,stroke:#fff,stroke-width:1px,color:#fff

                    subgraph W_Input [1. ACQUISITION]
                        direction TB
                        W_LiveSrc[Live Encoder<br/>RTMP SRT]:::source
                        W_FileSrc[Video Files<br/>Upload FTP]:::source
                    end

                    subgraph W_Platform [2. WECANDEO PLATFORM - All in One]
                        direction TB
                        
                        subgraph W_Live [Live Pack]
                            W_Ingest[Live Ingest<br/>Stream Handler]:::wecandeo
                            W_DVR[Live DVR<br/>Real-time Save]:::wecandeo
                        end

                        subgraph W_VOD [Video Pack]
                            W_Trans[Transcoding<br/>Multi-Bitrate]:::wecandeo
                            W_CMS[Console CMS<br/>Meta Publish]:::wecandeo
                        end

                        subgraph W_Mgmt [Management]
                            W_Stats[Analytics<br/>Viewer Data]:::wecandeo
                            W_Player[Player Builder<br/>Custom Skin]:::wecandeo
                        end
                    end

                    subgraph W_Dist [3. DELIVERY]
                        direction TB
                        W_CDN[Global CDN<br/>Managed Network]:::wecandeo
                    end

                    subgraph W_App [4. EXPERIENCE]
                        direction TB
                        W_Web[HTML5 Player<br/>Web Integration]:::client
                        W_Mobile[Mobile SDK<br/>iOS Android]:::client
                    end

                    %% Connections
                    W_LiveSrc --> W_Ingest
                    W_FileSrc --> W_Trans
                    
                    W_Ingest --> W_DVR
                    W_DVR -.->|Save as VOD| W_CMS
                    
                    W_Ingest --> W_CDN
                    W_Trans --> W_CDN
                    
                    W_CMS --> W_Player
                    W_Player --> W_Web
                    
                    W_CDN --> W_Web
                    W_CDN --> W_Mobile
                    
                    W_Web -.-> W_Stats
                    W_Mobile -.-> W_Stats
            </div>
        </div>
    </section>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            flowchart: { 
                useMaxWidth: false, 
                htmlLabels: true,
                curve: 'basis' 
            },
            theme: 'base',
            themeVariables: {
                darkMode: true,
                background: '#141414',
                primaryColor: '#0078D4',
                lineColor: '#ffffff',
                mainBkg: '#141414',
                nodeBorder: '#ffffff',
                clusterBkg: 'rgba(255,255,255,0.02)',
                clusterBorder: '#444',
                defaultLinkColor: '#ffffff',
                fontFamily: 'Segoe UI',
                fontSize: '18px',
                nodeTextColor: '#ffffff',
                edgeLabelColor: '#ffffff'
            }
        });

        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }
    </script>
</body>
</html>
